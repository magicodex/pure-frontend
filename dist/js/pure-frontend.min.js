"use strict";!function(e,t){var u,a,o,l,s,f;function d(){}function c(){}function r(e){this._value=0<arguments.length?e:1}function n(){}function w(){}function g(){}function m(){this._viewName=null,this._viewTitle=null,this._fullUrl=null,this._urlPattern=null}function p(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "url" is null/undefined');if(c.isNullOrUndefined(t))throw new Error('argument#1 "jqXHR" is null/undefined');this._url=e,this._jqXHR=t}function h(e,t,r){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement is null/undefined');if(c.isNullOrUndefined(t))throw new Error('argument#1 "viewInfo is null/undefined');this._viewElement=e,this._viewInfo=t,this._viewScope=r,this._uiNameAttributeName=d.config.uiNameAttributeName,this._dataModel=new uiData.Model(e);r=t.getFullUrl(),e=t.getUrlPattern();this._urlParams=n.parseAllParams(r,e)}function E(){}function V(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "loadedView" is null/undefined');var e=V.getAndCheckJQueryObject(e),t=V.getAndCheckViewScope(e),r=V.getAndCheckViewObject(t);this._jQueryObject=e,this._viewScope=t,this._viewObject=r}function N(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "targetElement is null/undefined');this._targetElement=e,this._callbackFn=t,this._jQueryObject=jQuery(e)}function v(){}function S(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement is null/undefined');this._viewElement=e}function O(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "deferred" is null/undefined');this._deferred=e,this._sourceElement=t}function i(e){this._sourceElement=e}function _(){}function b(){}function y(){}null==e[t]&&(d.config={singlePageBaseUrl:"/",singlePageViewParent:".pure-app",viewIndexAttributeName:"data-pure-view-index",viewTitleAttributeName:"data-pure-view-title",viewNameAttributeName:"data-pure-view-name",viewUrlAttributeName:"data-pure-view-url",viewLoadedAttributeName:"data-pure-view-loaded",viewStatusAttributeName:"data-pure-view-status",uiNameAttributeName:"data-pure-ui-name",tabIndexAttributeName:"data-pure-tab-index",viewNameHeaderName:"x-page-code",viewTitleHeaderName:"x-page-name",fullUrlHeaderName:"x-page-url",urlPatternHeaderName:"x-url-pattern"},d.messages={unknownError:"Unknown error!",notFoundviewName:"Not found viewName from response header!",notFoundFullUrl:"Not found fullUrl from response header!",notFoundUrlPattern:"Not found urlPattern from response header!"},d.constants={VIEW_LOADED_TRUE:"true",VIEW_LOADED_FALSE:"false",VIEW_LOADED_ERROR:"error",VIEW_STATUS_INIT:"init",VIEW_STATUS_READY:"ready",VIEW_STATUS_SHOW:"show",VIEW_STATUS_HIDDEN:"hidden",VIEW_STATUS_DESTROY:"destroy"},c.isString=function(e){return"string"==typeof e},c.isNumber=function(e){return"number"==typeof e},c.isObject=function(e){return"object"==typeof e},c.isFunction=function(e){return"function"==typeof e},c.isNullOrUndefined=function(e){return null==e},c.isNotEmptyString=function(e){return c.isString(e)&&0<e.length},c.isNotEmptyObject=function(e){if(!c.isNullOrUndefined(e)&&c.isObject(e))for(var t in e)return!0;return!1},c.emptyStringIfNullOrUndefined=function(e){return c.isNullOrUndefined(e)?"":e},c.emptyArrayIfNullOrUndefined=function(e){return c.isNullOrUndefined(e)?[]:e},c.emptyObjectIfNullOrUndefined=function(e){return c.isNullOrUndefined(e)?{}:e},c.convertToString=function(e){return"string"==typeof e||c.isNullOrUndefined(e)?e:String(e)},c.formatString=function(e,r){if(c.isNullOrUndefined(e))throw new Error('argument#0 "format" is null/undefined');if(!c.isString(e))throw new Error('argument#0 "format" required string');if(!(r instanceof Array)){r=[];for(var t=1;t<arguments.length;t++)r.push(arguments[t])}return e.replace(/\{([0-9]+)\}/g,function(e,t){t=parseInt(t),t=r[t];return c.convertToString(t)||""})},c.concatObjects=function(e){e instanceof Array||(e=arguments);for(var t={},r=0;r<e.length;r++){var n,i=e[r];for(n in i)t[n]=i[n]}return t},c.concatObjectsWithOption=function(e,t){if(!(t instanceof Array)){t=[];for(var r=1;r<arguments.length;r++)t.push(arguments[r])}for(var n,i={},r=0;r<t.length;r++){var o,u=t[r];for(o in u)n=u[o],e&&void 0===n||(i[o]=n)}return i},r.prototype.nextValue=function(){var e=this._value;return this._value++,e},n.parseAllParams=function(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "fullUrl" is null/undefined');if(c.isNullOrUndefined(t))throw new Error('argument#1 "urlPattern" is null/undefined');t=n.parsePathParams(e,t),e=n.parseQueryParams(e);return c.concatObjects(t,e)},n.parsePathParams=function(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "fullUrl" is null/undefined');if(c.isNullOrUndefined(t))throw new Error('argument#1 "urlPattern" is null/undefined');var r=e.indexOf("?");if(0===r)return{};for(var n={},i=(0<r?e.substring(0,r):e).split("/"),o=t.split("/"),u=0;u<o.length;u++){var a,l=o[u];l.startsWith("{")&&l.endsWith("}")&&(a=l.length-1,l=(l=l.substring(1,a)).trim(),a=c.emptyStringIfNullOrUndefined(i[u]),n[l]=a)}return n},n.parseQueryParams=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "fullUrl" is null/undefined');var t=e.indexOf("?");if(t<0||t+1===e.length)return{};for(var r={},n=e.substring(t+1).split("&"),i=0;i<n.length;i++){var o=n[i].split("="),u=(u=o[0]).trim(),o=(o=c.emptyStringIfNullOrUndefined(o[1])).trim();r[u]=decodeURIComponent(o)}return r},w.getBrowserUrl=function(e){if(c.isString(e))return e=e.startsWith("/")?"#"+e:"#/"+e,w.getFullUrl(d.config.singlePageBaseUrl)+e;throw new Error('argument#0 "viewUrl" required string')},w.setBrowserUrl=function(e){if(!c.isString(e))throw new Error('argument#0 "viewUrl" required string');e=w.getBrowserUrl(e);w.setLocationUrl(e)},w.getFullUrl=function(e){var t;if(c.isString(e))return t=jQuery("base").attr("href"),c.isNullOrUndefined(t)?t="/":t.endsWith("/")||(t+="/"),t+(e=e.startsWith("/")?e.substring(1):e);throw new Error('argument#0 "relativeUrl" required string')},w.setLocationUrl=function(e){if(!c.isString(e))throw new Error('argument#0 "newUrl" required string');location.href=e},g.setBrowserTitle=function(e){},m.prototype.getViewName=function(){return this._viewName},m.prototype.setViewName=function(e){this._viewName=e},m.prototype.getViewTitle=function(){return this._viewTitle},m.prototype.setViewTitle=function(e){this._viewTitle=e},m.prototype.getFullUrl=function(){return this._fullUrl},m.prototype.setFullUrl=function(e){this._fullUrl=e},m.prototype.getUrlPattern=function(){return this._urlPattern},m.prototype.setUrlPattern=function(e){this._urlPattern=e},p.prototype.getViewInfo=function(){var e=this._jqXHR.getResponseHeader(d.config.viewNameHeaderName);if(c.isNullOrUndefined(e))throw new Error(d.messages.notFoundviewName);var t=this._jqXHR.getResponseHeader(d.config.fullUrlHeaderName);if(c.isNullOrUndefined(t))throw new Error(d.messages.notFoundFullUrl);var r=this._jqXHR.getResponseHeader(d.config.urlPatternHeaderName);if(c.isNullOrUndefined(r))throw new Error(d.messages.notFoundUrlPattern);var n=this._jqXHR.getResponseHeader(d.config.viewTitleHeaderName),i=(c.isNotEmptyString(n)&&(n=decodeURIComponent(n)),new m);return i.setViewName(e),i.setViewTitle(n),i.setFullUrl(t),i.setUrlPattern(r),i},h.ON_VIEW_LIFECYCLE_START="onViewLifecycleStart",h.ON_VIEW_LIFECYCLE_STOP="onViewLifecycleStop",h.ON_VIEW_SHOW="onViewShow",h.ON_VIEW_HIDDEN="onViewHidden",h.ON_VIEW_PUSH="onViewPush",h.ON_VIEW_POP="onViewPop",h.ON_VIEW_CLOSING="onViewClosing",h.prototype.getViewElement=function(){return this._viewElement},h.prototype.getViewInfo=function(){return this._viewInfo},h.prototype.getViewScope=function(){return this._viewScope},h.prototype.getDataModel=function(){return this._dataModel},h.prototype.getUrlParams=function(){return this._urlParams},h.prototype.getUrlParam=function(e){return this._urlParams[e]},h.prototype.callService=function(e,t,r){return new i(this._viewElement).callService(e,t,r)},h.prototype.$find=function(){var e=jQuery(this._viewElement);return e.find.apply(e,arguments)},h.prototype.$ui=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "name" is null/undefined');var t=jQuery(this._viewElement),e=c.formatString('[{0}="{1}"]',[this._uiNameAttributeName,e]);return t.find(e)},E.viewScopes={},E.getViewScope=function(e,t){if(!c.isString(e))throw new Error('argument#0 "viewName" required string');t=!(!1===t);var r=E.viewScopes[e];return c.isNullOrUndefined(r)&&t&&(E.viewScopes[e]=r={}),r},E.setViewScope=function(e,t){if(!c.isString(e))throw new Error('argument#0 "viewName" required string');E.viewScopes[e]=t},E.removeViewScope=function(e){if(!c.isString(e))throw new Error('argument#0 "viewName" required string');delete E.viewScopes[e]},V.prototype.getViewObject=function(){return this._viewObject},V.prototype.getViewScope=function(){return this._viewScope},V.prototype.setViewToShow=function(){this._jQueryObject.css("display","block")},V.prototype.setViewToHide=function(){this._jQueryObject.css("display","none")},V.prototype.getViewScopePropValue=function(e){if(c.isString(e))return this.getViewScope()[e];throw new Error('argument#0 "propName" required string')},V.prototype.setViewScopePropValue=function(e,t){if(!c.isString(e))throw new Error('argument#0 "propName" required string');this.getViewScope()[e]=t},V.prototype.getDomElementAttrValue=function(e){if(c.isString(e))return this._jQueryObject.attr(e);throw new Error('argument#0 "attrName" required string')},V.prototype.setDomElementAttrValue=function(e,t){if(!c.isString(e))throw new Error('argument#0 "attrName" required string');this._jQueryObject.attr(e,t)},V.getAndCheckJQueryObject=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "loadedView" is null/undefined');e=e instanceof jQuery?e:jQuery(e);if(e.length<=0)throw new Error("the jQuery object length is zero");var t=e.attr(d.config.viewLoadedAttributeName);if(d.constants.VIEW_LOADED_TRUE!==t)throw new Error("the view is not load completed");return e.first()},V.getAndCheckViewScope=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "jQueryObject" is null/undefined');var t,e=e.attr(d.config.viewIndexAttributeName);if(c.isNullOrUndefined(e))throw t=c.formatString('the dom attribute "{0}" is null/undefined',d.config.viewIndexAttributeName),new Error(t);return E.getViewScope(e,!0)},V.getAndCheckViewObject=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewScope" is null/undefined');e=e.VIEW;if(c.isNullOrUndefined(e))throw new Error('the viewScope property "VIEW" is null/undefined');return e},N.elementIdSuffixGenerator=new r(100001),N.viewIndexSuffixGenerator=new r(100001),N.lastViewInfo={},N.prototype.loadView=function(n){if(!c.isString(n))throw new Error('argument#0 "url" required string');var e=jQuery.ajax({url:n,type:"POST",error:function(e,t,r){}}),i=this._jQueryObject,o=this;i.attr(d.config.viewLoadedAttributeName,d.constants.VIEW_LOADED_FALSE),e.done(function(e,t,r){try{o.preRenderView(n,e,t,r)?o.renderView(n,e,t,r):c.isNullOrUndefined(o._callbackFn)||o._callbackFn(!1)}catch(e){console.error(e),i.attr(d.config.viewLoadedAttributeName,d.constants.VIEW_LOADED_ERROR),c.isNullOrUndefined(o._callbackFn)||o._callbackFn(!1)}}).fail(function(e,t,r){O.handleAjaxError(null,e,t,r),i.attr(d.config.viewLoadedAttributeName,d.constants.VIEW_LOADED_ERROR),c.isNullOrUndefined(o._callbackFn)||o._callbackFn(!1)})},N.prototype.preRenderView=function(e,t,r,n){return!0},N.prototype.renderView=function(e,t,r,n){if(!c.isString(e))throw new Error('argument#0 "url" required string');var n=new p(e,n).getViewInfo(),i=n.getViewName(),o=n.getViewTitle(),u=i+"_"+N.viewIndexSuffixGenerator.nextValue(),a=this._jQueryObject,t=(a.attr("id",i),a.html(t),a.attr(d.config.viewIndexAttributeName,u),a.attr(d.config.viewNameAttributeName,i),a.attr(d.config.viewTitleAttributeName,o),a.attr(d.config.viewUrlAttributeName,e),this.initViewAfterRender(),E.getViewScope(i,!0)),o=new h(this._targetElement,n,t),e=(t.VIEW=o,N.lastViewInfo.viewScope=t,N.lastViewInfo.view=o,E.setViewScope(u,t),E.removeViewScope(i),t.main);c.isNullOrUndefined(e)||e(t,o),a.attr(d.config.viewLoadedAttributeName,d.constants.VIEW_LOADED_TRUE),c.isNullOrUndefined(this._callbackFn)||this._callbackFn(!0,o,t)},N.prototype.initViewAfterRender=function(){var i=this._jQueryObject;i.find("label[for]").each(function(e,t){var r,n=t.getAttribute("for");c.isNotEmptyString(n)&&(r=n+"_"+N.elementIdSuffixGenerator.nextValue(),i.find("#"+n).attr("id",r),t.setAttribute("for",r))})},v.currentTab={tabIndex:"default"},u=d.constants.VIEW_LOADED_TRUE,d.constants.VIEW_LOADED_FALSE,d.constants.VIEW_LOADED_ERROR,a=d.constants.VIEW_STATUS_INIT,o=d.constants.VIEW_STATUS_READY,l=d.constants.VIEW_STATUS_SHOW,s=d.constants.VIEW_STATUS_HIDDEN,f=d.constants.VIEW_STATUS_DESTROY,v.loadView=function(e){if(!c.isString(e))throw new Error('argument#0 "url" required string');function t(){v.doRenderView(e,!0,function(){o.each(function(e,t){v.stopViewLifecycle(t)})})}var r,n=jQuery(d.config.singlePageViewParent),i=c.formatString('main[{0}="{1}"]',[d.config.tabIndexAttributeName,v.currentTab.tabIndex]),o=n.children(i);0<o.length&&(n=o.attr(d.config.viewLoadedAttributeName),u===n&&(r=(i=new V(o)).getViewScopePropValue(h.ON_VIEW_CLOSING),c.isNullOrUndefined(r)||r(i.getViewObject(),t)),!c.isNullOrUndefined(r))||t()},v.replaceView=function(e){if(!c.isString(e))throw new Error('argument#0 "url" required string');var t=jQuery(d.config.singlePageViewParent),r=c.formatString('main[{0}="{1}"]',[d.config.tabIndexAttributeName,v.currentTab.tabIndex]),n=t.children(r);v.doRenderView(e,!1,function(){v.stopViewLifecycle(n[0])})},v.pushView=function(e){if(!c.isString(e))throw new Error('argument#0 "url" required string');var t=jQuery(d.config.singlePageViewParent),r=c.formatString('main[{0}="{1}"]:first',[d.config.viewStatusAttributeName,l]),n=t.children(r);v.doRenderView(e,!1,function(){0<n.length&&v.hiddenView(n[0],!0)})},v.popView=function(e){if(!c.isString(e))throw new Error('argument#0 "url" required string');function t(){2<=o.length?(v.stopViewLifecycle(o[0]),v.showView(o[1],!0)):v.doRenderView(e,!1,function(){1<=o.length&&v.stopViewLifecycle(o[0])})}var r,n=jQuery(d.config.singlePageViewParent),i=c.formatString('main[{0}="{1}"]',[d.config.tabIndexAttributeName,v.currentTab.tabIndex]),o=n.children(i);0<o.length&&(n=o.attr(d.config.viewLoadedAttributeName),u===n&&(r=(i=new V(o)).getViewScopePropValue(h.ON_VIEW_CLOSING),c.isNullOrUndefined(r)||r(i.getViewObject,t)),!c.isNullOrUndefined(r))||t()},v.doRenderView=function(e,t,n){if(!c.isString(e))throw new Error('argument#0 "url" required string');var r=jQuery(d.config.singlePageViewParent);if(!(t=!0===t)){t=c.formatString('main[{0}="{1}"][{2}="{3}"]',[d.config.tabIndexAttributeName,v.currentTab.tabIndex,d.config.viewStatusAttributeName,a]);if(0<r.find(t).length)return}var i=jQuery('<main class="pure-view"></main>');i.attr(d.config.tabIndexAttributeName,v.currentTab.tabIndex),i.attr(d.config.viewStatusAttributeName,a),i.css("display","none"),i.prependTo(r);new N(i[0],function(e,t,r){!0!==e?v.stopViewLifecycle(i):(c.isNullOrUndefined(n)||n(t.getViewElement()),v.startViewLifecycle(i[0]))}).loadView(e)},v.startViewLifecycle=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement" is null/undefined');var t,r=new V(jQuery(e)),n=r.getViewObject(),i=r.getDomElementAttrValue(d.config.viewStatusAttributeName);f===i?(t=r.getDomElementAttrValue(d.config.viewIndexAttributeName),E.removeViewScope(t)):a===i&&(t=r.getViewScopePropValue(h.ON_VIEW_LIFECYCLE_START),c.isNullOrUndefined(t)||t(n),r.setDomElementAttrValue(d.config.viewStatusAttributeName,o),r.getDomElementAttrValue(d.config.tabIndexAttributeName)===v.currentTab.tabIndex?v.showView(e):v.hiddenView(e))},v.stopViewLifecycle=function(e){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement" is null/undefined');var t,r,n,i,o=jQuery(e),u=o.attr(d.config.viewStatusAttributeName);if(f!==u){try{l===u&&v.hiddenView(e),a!==u&&(r=(t=new V(o)).getViewObject(),n=t.getViewScopePropValue(h.ON_VIEW_LIFECYCLE_STOP),c.isNullOrUndefined(n)||n(r),i=t.getDomElementAttrValue(d.config.viewIndexAttributeName),E.removeViewScope(i))}catch(e){console.error(e)}o.attr(d.config.viewStatusAttributeName,f),o.remove()}},v.showView=function(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement" is null/undefined');t=!0===t;var r,n,e=jQuery(e),i=e.attr(d.config.viewStatusAttributeName);o!==i&&s!==i||(r=(e=new V(e)).getViewObject(),e.setDomElementAttrValue(d.config.viewStatusAttributeName,l),e.setViewToShow(),n=e.getDomElementAttrValue(d.config.viewUrlAttributeName),w.setBrowserUrl(n),n=e.getDomElementAttrValue(d.config.viewTitleAttributeName),g.setBrowserTitle(n),n=e.getViewScopePropValue(h.ON_VIEW_SHOW),c.isNullOrUndefined(n)||n(r),s===i&&t&&(n=e.getViewScopePropValue(h.ON_VIEW_POP),c.isNullOrUndefined(n)||n(r)))},v.hiddenView=function(e,t){if(c.isNullOrUndefined(e))throw new Error('argument#0 "viewElement" is null/undefined');t=!0===t;var r,e=jQuery(e),n=e.attr(d.config.viewStatusAttributeName);l!==n&&o!==n||(r=(e=new V(e)).getViewObject(),l===n&&(n=e.getViewScopePropValue(h.ON_VIEW_HIDDEN),c.isNullOrUndefined(n)||n(r)),t&&(n=e.getViewScopePropValue(h.ON_VIEW_PUSH),c.isNullOrUndefined(n)||n(r)),e.setDomElementAttrValue(d.config.viewStatusAttributeName,s),e.setViewToHide())},S.prototype.showMask=function(){jQuery(this._viewElement).prepend('<div class="pure-view-mask"><div></div></div>')},S.prototype.hiddenMask=function(){jQuery(this._viewElement).find(".pure-view-mask").remove()},O.prototype.thenResult=function(e,t){return this.doHandleResult(e,t,!1)},O.prototype.waitResult=function(e,t){return this.doHandleResult(e,t,!0)},O.prototype.doHandleResult=function(e,t,r){if(!c.isFunction(e))throw new Error('argument#1 "doneFn" required function');c.isNullOrUndefined(t)&&(t=function(e,t,r){O.handleAjaxError(this._sourceElement,e,t,r)});var n,i=this._deferred;return r&&!c.isNullOrUndefined(this._sourceElement)&&((n=new S(this._sourceElement)).showMask(),i.always(function(){n.hiddenMask()})),!1===jQuery.ajaxSettings.async?200===i.status?e(i.responseJSON||responseText,"success",i):"timeout"===i.statusText?t(i,"timeout","timeout"):t(i,"error",""):i.then(e,t),this},O.handleAjaxError=function(e,t,r,n){if(c.isNullOrUndefined(t))throw new Error('argument#0 "jqXHR" is null/undefined');var i;c.isNullOrUndefined(t.responseJSON)||(i=t.responseJSON.message),y.showError(i||d.messages.unknownError)},i.prototype.callService=function(e,t,r){if(!c.isString(e))throw new Error('argument#0 "url" required string');r=c.emptyObjectIfNullOrUndefined(r);e={url:e,type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:t=this.convertData(t,r),beforeSend:this.beforeSend,error:function(e,t,r){}},t=c.concatObjectsWithOption(!0,[e,r]);return new O(jQuery.ajax(t),this._sourceElement)},i.prototype.beforeSend=void 0,i.prototype.convertData=function(e,t){return e=c.emptyObjectIfNullOrUndefined(e),JSON.stringify(e)},_.callService=function(e,t,r){if(c.isString(e))return(new i).callService(e,t,r);throw new Error('argument#0 "url" required string')},b.showMessage=function(e){e=c.emptyStringIfNullOrUndefined(e);var e=c.formatString('<div class="alert alert-success pure-app-alert" role="alert">{0}</div>',[e]),t=jQuery(e).prependTo("body");t.delay(1e3).fadeOut("fast",function(){t.remove()})},b.showError=function(e){e=c.emptyStringIfNullOrUndefined(e);var e=c.formatString('<div class="alert alert-warning pure-app-alert" role="alert">{0}</div>',[e]),t=jQuery(e).prependTo("body");t.delay(2e3).fadeOut("fast",function(){t.remove()})},y.viewScope=function(e,t){if(!c.isString(e))throw new Error('argument#0 "viewName" required string');if(!c.isFunction(t))throw new Error('argument#1 "registerFn" required function');t(E.getViewScope(e))},y.viewMain=function(e,t){if(!c.isString(e))throw new Error('argument#0 "viewName" required string');if(!c.isFunction(t))throw new Error('argument#1 "mainFn" required function');E.getViewScope(e).main=t},y.showMessage=function(e){b.showMessage(e)},y.showError=function(e){b.showError(e)},y.loadView=function(e){v.loadView(e)},y.replaceView=function(e){v.replaceView(e)},y.pushView=function(e){v.pushView(e)},y.popView=function(e){v.popView(e)},e[t]={utils:c,app:y,config:d.config,messages:d.messages,fn:{Global:d,Utils:c,SequenceGenerator:r,UrlParser:n,BrowserUrl:w,BrowserTitle:g,ViewInfo:m,ViewResponse:p,View:h,ViewScopeManager:E,LoadedViewHolder:V,ViewLoader:N,ViewManager:v,ViewMask:S,AjaxResult:O,AjaxCallService:i,Ajax:_,AppAlertMessages:b,App:y}})}(window,"Pure");